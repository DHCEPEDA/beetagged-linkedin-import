<!-- Alternative Squarespace Integration Methods -->

<!-- METHOD 1: Try injecting in HEADER instead of Footer -->
<!-- Sometimes Squarespace footer has conflicts -->
<!-- Go to Settings > Advanced > Code Injection > HEADER and paste this: -->

<div id="beetagged-widget-container"></div>
<script>
// Wait for page to fully load
window.addEventListener('load', function() {
  // Create widget HTML
  const widgetHTML = `
    <div style="
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 16px;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
    ">
      <h1 style="margin: 0 0 1rem 0; font-size: 2rem;">üè∑Ô∏è BeeTagged</h1>
      <p style="margin: 0 0 2rem 0; opacity: 0.9;">AI-Powered Contact Search</p>
      
      <input type="text" id="search-input" placeholder="Search contacts..." style="
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        margin-bottom: 1rem;
        box-sizing: border-box;
      ">
      
      <button onclick="searchContacts()" style="
        width: 100%;
        padding: 12px;
        background: rgba(255,255,255,0.2);
        color: white;
        border: 2px solid rgba(255,255,255,0.3);
        border-radius: 8px;
        font-size: 1rem;
        cursor: pointer;
      ">Search</button>
      
      <div id="results" style="
        margin-top: 2rem;
        padding: 1rem;
        background: rgba(255,255,255,0.1);
        border-radius: 8px;
        display: none;
      "></div>
    </div>
  `;
  
  // Insert widget
  const container = document.getElementById('beetagged-widget-container');
  if (container) {
    container.innerHTML = widgetHTML;
  }
});

// Search function
async function searchContacts() {
  const input = document.getElementById('search-input');
  const results = document.getElementById('results');
  
  if (!input || !results) return;
  
  const query = input.value.trim();
  if (!query) return;
  
  results.style.display = 'block';
  results.innerHTML = 'Searching...';
  
  try {
    const response = await fetch(`https://beetagged-app-53414697acd3.herokuapp.com/api/search/natural?q=${encodeURIComponent(query)}`);
    const data = await response.json();
    const contacts = data.results || data;
    
    if (contacts && contacts.length > 0) {
      results.innerHTML = `
        <h3>Found ${contacts.length} contacts:</h3>
        ${contacts.slice(0, 5).map(contact => `
          <div style="
            background: rgba(255,255,255,0.1);
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 4px;
            text-align: left;
          ">
            <strong>${contact.name || 'Unknown'}</strong><br>
            <small>${contact.company || ''} ${contact.position ? '‚Ä¢ ' + contact.position : ''}</small>
          </div>
        `).join('')}
      `;
    } else {
      results.innerHTML = 'No contacts found.';
    }
  } catch (error) {
    results.innerHTML = 'Search failed. Please try again.';
  }
}
</script>

<!-- METHOD 2: Code Block Method -->
<!-- 
Instead of Code Injection, try adding a Code Block to your page:
1. Edit your Squarespace page
2. Add a new block
3. Choose "Code" from the block menu
4. Paste the widget code there
-->

<!-- METHOD 3: Embed Block Method -->
<!--
1. Add an Embed block to your page
2. Paste the widget HTML there
3. This sometimes works better than code injection
-->

<!-- METHOD 4: Simple iframe method (if all else fails) -->
<!--
Create a separate HTML file on a hosting service and embed it:
<iframe src="your-widget-url.html" width="100%" height="600" frameborder="0"></iframe>
-->